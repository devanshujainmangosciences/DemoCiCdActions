<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: pages/PatientDetails.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: pages/PatientDetails.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * This component is rendered for ME and Doctor component when they want to see the patient details
 * On load of this component,it calls the api to fetch the patients details based on the patient ID
 */
import {Col, Form, FormGroup, Row} from '@themesberg/react-bootstrap';
import React, {useState, useEffect} from 'react';
import {useTranslation} from 'react-i18next';
import {useDispatch, useSelector} from 'react-redux';
import {downloadDocument, readLenders, setToast} from 'actions';
import {Can, CustomModal, TableComponent} from 'components';
import {actionTypes} from 'constants/actionTypes';

import {
  tableHeadersPatientDetailsApplicants,
  tableHeadersPatientDetailsDrugSchedule,
  tableHeadersLenderHistory,
  tableHeadersTreatmentBreaks,
  tableHeadersPatientDetailVbcSchedule,
} from 'config';
import {readDoctors} from 'actions/doctorActions';
import {
  approveLoanForPatient,
  assignDoctorToPatient,
  assignLenderToPatient,
  assignTreatmentInitiationDateToPatient,
  editTreatmentForPatient,
  getDoctorsByHospitalId,
  getMangoPatientDetails,
  rejectLoanForPatient,
  updatePatientInteractionNotes,
  setPatientId,
  updatePatientStatusToAware,
  addDrugReceiptAmount,
  markGrantPaid,
  updateDataConsentDate,
  markRebatePaid,
  resetPatientDetails,
} from 'actions/mangoExecutiveActions';
import {
  ALERT_MESSAGE,
  DateFormat,
  PAYMENT_FRAMEWORK,
  PAYMENT_FRAMEWORK_VALUE,
  SELECTED_ROLE_NAME,
  Symbols,
  VALIDATE_DATE_TYPE,
} from '../constants';
import {FontAwesomeIcon} from '@fortawesome/react-fontawesome';
import CustomOverHoverToolTip from 'components/CustomOverHoverToolTip';
import {faInfoCircle} from '@fortawesome/free-solid-svg-icons';
import {
  capitalizeFirstLetter,
  dateValidator,
  downloadFile,
  dynamicMessageCreation,
} from 'services/utility';
import MultiLineInput from 'components/MultiLineInput';
import {secureLocalStorage} from 'services/web.storage';
import {tableHeadersPatientDetailsDrugScheduleSelfPay} from 'config';
import {CancelIcon, EditIcon, SaveIcon} from 'assets/icons';
import {tblHeaderPatientDetailsDrugScheduleLenderPayout} from 'config';
import PatientTimeline from './clinical-details/PatientTimeline';
import SendPushNotification from './mango-executive/SendPushNotification';
import {MONTHLY, paymentFrequencyData, PER_CYCLE} from 'data/staticOptionData';
import format from 'date-fns/format';

const PatientDetails = ({patientId}) => {
  // const locationPath = window.location.pathname;
  // const patientId = locationPath.split('/')[3];
  const role = secureLocalStorage.getItem(SELECTED_ROLE_NAME);
  const {t} = useTranslation(['patientDetails']);
  const dispatch = useDispatch();
  const [lendersList, setLendersList] = useState([]);
  const [aware, setAware] = useState(false);
  const [dataConsent, setdataConsent] = useState(false);
  const [dataConsentDate, setdataConsentDate] = useState('');
  const [isDisabled, setIsDisabled] = useState(false);
  const [showModal, setShowModal] = useState(false);
  const [showDataConsentModal, setshowDataConsentModal] = useState(false);
  const [showInitiationDateModal, setshowInitiationDateModal] = useState(false);
  const [showConfirmModal, setShowConfirmModal] = useState(false);
  const [showTreatmentModal, setShowTreatmentModal] = useState(false);
  const [showRebatePaidModal, setShowRebatePaidModal] = useState(false);
  const [doctor, setDoctor] = useState('');
  const [lender, setLender] = useState('');
  const [initiationDate, setInitiationDate] = useState('');
  const [reasonToChange, setReasonTochange] = useState('');
  const [reason, setReason] = useState('');
  const [appointmentDate, setAppointmentDate] = useState('');
  const [dateWarning, setDateWarning] = useState(false);
  const [isPauseTreatment, setIsPauseTreatment] = useState(true);
  const [doctorsList, setDoctorsList] = useState([]);
  const [scheduleTableData, setScheduleTableData] = useState([]);
  const [drugScheduleData, setdrugScheduleData] = useState([]);
  const [comments, setComments] = useState('');
  const [openMarkAsPaid, setopenMarkAsPaid] = useState(false);
  const [markAsPaidCycle, setMarkAsPaidCycle] = useState(null);
  const lenders = useSelector((state) => state.lenders.usersList);
  const doctors = useSelector((state) => state.doctors.doctorsList);
  const {SET_SHOW_DOCUMENT} = actionTypes;

  const clinicalDropReasons = useSelector(
    (state) => state.template.masterData?.clinicalDropReasons
  );
  const nonClinicalDropReasons = useSelector(
    (state) => state.template.masterData?.nonClinicalDropReasons
  );
  const doctorChangeReasons = useSelector(
    (state) => state.template.masterData?.doctorChangeReasons
  );
  const [terminateReasons, setTerminateReasons] = useState([]);
  const [isClinicalTermination, setIsClinicalTermination] = useState(true);
  const [lenderHistoryTableData, setlenderHistoryTableData] = useState([]);
  const [treatmentBreakTableData, settreatmentBreakTableData] = useState([]);
  let errorMessage = 'Error Occured';
  const [assignLenderName, setAssignLenderName] = useState('');
  const [showLenderModal, setShowLenderModal] = useState(false);

  const {
    currentLenderId,
    generalInformation,
    grantPaymentDate,
    grantPaymentDay,
    grantPaymentWeek,
    paymentFrequency,
    deviceTokenActive,
    mangoAccountId,
    id,
    lenderHistory,
    presentDoctorId,
    treatment,
    vbcProgram,
    vbcSchedule,
    presentHospitalId: hospitalId,
    treatmentBreakHistory,
    treatmentPaused,
    treatmentTerminated,
    treatmentFinished,
    treatmentStarted,
    applicationApproved,
    applicationSubmitted,
    interactionText,
    paySubventionTo,
    payRebateTo,
  } = useSelector((state) => state.mangoExecutive.patientDetails);
  const doctorsByHospitalIdList = useSelector(
    (state) => state.template.doctorList
  );

  const [medicationPriceEdit, setmedicationPriceEdit] = useState({
    1: false,
  });

  const [priceEntered, setpriceEntered] = useState('');
  const cannotChangeTreatmentDate = treatmentFinished || treatmentTerminated;

  /**
   * Function to scroll to top when ever page loads
   */
  useEffect(() => {
    window.scrollTo(0, 0);
  }, []);

  // console.log('VBC PROGRAM=>', vbcProgram);
  // console.log('TREATMENT=>', treatment);
  // vbcProgram?.paymentTypeOpted

  // console.log('PRICE ENTERED=>', priceEntered, medicationPriceEdit);

  /**
   * This runs on Component Mounting, getting the values of the Patient details by triggering the API
   */
  useEffect(() => {
    if (patientId) {
      const onSuccess = () => {
        dispatch(setPatientId(patientId));
      };
      dispatch(getMangoPatientDetails(patientId, onSuccess));
      // dispatch(onSideBarRouteClicked('Patient Details'));
    }
    return () => {
      dispatch(resetPatientDetails());
    };
  }, []);

  /**
   * UseEffect to get all the doctors details whenever hospitalId State changes
   */
  useEffect(() => {
    if (hospitalId) {
      dispatch(getDoctorsByHospitalId(hospitalId));
    }
  }, [dispatch, hospitalId]);

  /**
   *  Set the doctor List based on values recievied form API
   */
  useEffect(() => {
    if (doctorsByHospitalIdList?.length > 0) {
      setDoctorsList(
        doctorsByHospitalIdList.map((doctor) => ({
          id: doctor.id,
          label: doctor.name,
          value: doctor.id,
        }))
      );
    }
  }, [doctorsByHospitalIdList]);

  /**
   * This function triggers when presentDoctorId or currentLenderId states have value. They help set the respective states
   */
  useEffect(() => {
    if (presentDoctorId) {
      setDoctor(presentDoctorId);
    } else setDoctor('');
    if (currentLenderId) {
      setLender(currentLenderId);
    } else setLender('');
  }, [currentLenderId, presentDoctorId]);

  /**
   * treatment, priceEntered, medicationPriceEdit state that trigger the function, inital render is happened by the treatment data.
   */
  useEffect(() => {
    if (treatment &amp;&amp; treatment?.drugSchedule.length > 0) {
      const drugScheduleTableData = treatment?.drugSchedule.map(
        (item, index) => ({
          ...item,
          cycleDate: item.cycleDate
            ? format(new Date(item.cycleDate), DateFormat.DD_MM_YYYY_SLASH)
            : 'N/A',
          lenderGrantDate: item.lenderGrantDate
            ? format(
                new Date(item.lenderGrantDate),
                DateFormat.DD_MM_YYYY_SLASH
              )
            : 'N/A',
          grantInitiationDate: item.grantInitiationDate
            ? format(
                new Date(item.grantInitiationDate),
                DateFormat.DD_MM_YYYY_SLASH
              )
            : 'N/A',
          treatmentDate: item.treatmentDate
            ? format(new Date(item.treatmentDate), DateFormat.DD_MM_YYYY_SLASH)
            : 'N/A',
          receiptAmountDate: item.receiptAmountDate
            ? format(
                new Date(item.receiptAmountDate),
                DateFormat.DD_MM_YYYY_SLASH
              )
            : 'N/A',
          drugReceiptUploadDate: item.drugReceiptUploadDate
            ? `Uploaded on ${format(
                new Date(item.drugReceiptUploadDate),
                DateFormat.DD_MM_YYYY_SLASH
              )}`
            : 'N/A',
          mangoGrantPaidFlag:
            // index === 0
            //   ?
            item?.mangoGrantPaidFlag &amp;&amp; item?.grantPaidDate ? (
              `Paid on ${format(
                new Date(item.grantPaidDate),
                DateFormat.DD_MM_YYYY_SLASH
              )}`
            ) : (
              &lt;Can
                performingAction={{
                  component: 'admin-medication-schedule-list',
                  action: 'can view markPaidStatus',
                }}
                removeDiv={true}
                dataToShowWhenComponentNotRendered="N/A">
                {item?.grantInitiationDate ? (
                  &lt;button
                    onClick={() => onMarkAsPaidClick(item)}
                    disabled={treatmentTerminated}
                    className={`btn-patient-theme ${
                      treatmentTerminated &amp;&amp; 'disabled-button'
                    }`}>
                    {t('markAsPaid')}
                  &lt;/button>
                ) : (
                  'N/A'
                )}
              &lt;/Can>
            ),
          // : 'N/A',
          mangoGrantReceivedFlag:
            index === 0
              ? item?.mangoGrantReceivedFlag
                ? 'Received'
                : 'Pending'
              : 'N/A',
          download: item.drugReceiptId &amp;&amp; (
            &lt;Can
              performingAction={{
                component: 'admin-medication-schedule-list',
                action: 'can download drugReciept',
              }}
              dataToShowWhenComponentNotRendered="N/A">
              &lt;button
                onClick={() => downloadDrugReceipt(item)}
                className="btn-patient-theme">
                {t('download')}
              &lt;/button>
            &lt;/Can>
          ),
          grantPaidDate: item.grantPaidDate
            ? `${format(
                new Date(item.grantPaidDate),
                DateFormat.DD_MM_YYYY_SLASH
              )}`
            : 'N/A',
          grantReceivedDate: item.grantReceivedDate
            ? `${format(
                new Date(item.grantReceivedDate),
                DateFormat.DD_MM_YYYY_SLASH
              )}`
            : 'N/A',
          cumulativeAmount: item?.cumulativeAmount ? (
            &lt;div>
              {Symbols.INDIAN_RUPEE}
              {item?.cumulativeAmount}
            &lt;/div>
          ) : (
            'N/A'
          ),
          drugReceiptAmount: medicationPriceEdit[item?.cycleNo] ? (
            &lt;>
              &lt;div className="price-edit">
                &lt;form onSubmit={(e) => onPriceSave(e, item)}>
                  &lt;input
                    value={priceEntered}
                    type="number"
                    required
                    min={0}
                    disabled={checkIfInputDisabled(item)}
                    onChange={(e) => setpriceEntered(e.target.value)}
                  />

                  &lt;span onClick={() => onPriceEditCancel(item?.cycleNo)}>
                    &lt;CancelIcon />
                  &lt;/span>
                  &lt;span onClick={(e) => onPriceSave(e, item)}>
                    &lt;SaveIcon />
                  &lt;/span>
                &lt;/form>
              &lt;/div>
            &lt;/>
          ) : item.drugReceiptId &amp;&amp; item?.drugReceiptAmount ? (
            &lt;>
              &lt;div className="price-edit">
                &lt;div>
                  {Symbols.INDIAN_RUPEE}
                  {item?.drugReceiptAmount ? item?.drugReceiptAmount : '0'}
                &lt;/div>
                &lt;div>
                  &lt;Can
                    performingAction={{
                      component: 'admin-medication-schedule-list',
                      action: 'can view editDetails',
                    }}>
                    &lt;span
                      onClick={() =>
                        onPriceEdit(item?.cycleNo, item?.drugReceiptAmount)
                      }
                      className="editIcon">
                      &lt;EditIcon />
                    &lt;/span>
                  &lt;/Can>
                &lt;/div>
              &lt;/div>
            &lt;/>
          ) : (
            item.drugReceiptId &amp;&amp; (
              &lt;Can
                performingAction={{
                  component: 'admin-medication-schedule-list',
                  action: 'can add pricePaidByPatient',
                }}
                dataToShowWhenComponentNotRendered="N/A">
                &lt;button
                  onClick={() => onPriceAdd(item?.cycleNo)}
                  className="btn-patient-theme">
                  {t('Add')}
                &lt;/button>
              &lt;/Can>
            )
          ),
        })
      );

      setdrugScheduleData(drugScheduleTableData);
    }
  }, [treatment, priceEntered, medicationPriceEdit]);

  // console.log('DRUG SCHEDULE DATE=>', drugScheduleData);

  /**
   * Checking if edit is enabled or not for ME to enter pricePaidByThePatient
   * @param {Object} item
   * @returns
   */
  const checkIfInputDisabled = (item) => {
    if (treatmentTerminated) {
      if (item?.drugReceiptUploadDate &amp;&amp; !item?.drugReceiptAmount) return false;
      else return true;
    } else return false;
  };

  /**
   * This triggers when we click on the cancel button when editing the pricePaid by patient
   * @param {Number} cycleNumber
   */
  const onPriceEditCancel = (cycleNumber) => {
    setpriceEntered('');
    setmedicationPriceEdit({
      ...medicationPriceEdit,
      [cycleNumber]: false,
    });
  };

  /**
   * When the price is saved by the Mangoexecutive for the particular patient
   * API is triggered to save the Price Entered.
   * @param {*} e
   * @param {Object} drug
   */
  const onPriceSave = (e, drug) => {
    e.preventDefault();
    const customOnSuccess = () => {
      setmedicationPriceEdit({[drug?.cycleNo]: false});
    };
    dispatch(
      addDrugReceiptAmount(
        drug?.drugReceiptId,
        patientId,
        parseInt(priceEntered),
        customOnSuccess
      )
    );
    // onPriceEditCancel(item?.cycleNo);
  };

  /**
   * Function is called when the price edit button is clicked for editing Patient Medication price
   * cycleNumber helps in deciding which input to be opened to edit
   * @param {Number} cycleNumber
   * @param {Number} prevPrice
   */
  const onPriceEdit = (cycleNumber, prevPrice) => {
    // console.log('PRICE EDIT=>', cycleNumber);
    setmedicationPriceEdit({[cycleNumber]: true});
    setpriceEntered(prevPrice);
  };

  /**
   * Function triggred when the price added for the first time
   * @param {Number} cycleNumber
   */

  const onPriceAdd = (cycleNumber) => {
    setpriceEntered('');
    setmedicationPriceEdit({[cycleNumber]: true});
  };

  /**
   * Function to load schedule data on component load
   */
  useEffect(() => {
    if (vbcSchedule.length) {
      setScheduleTableData(
        vbcSchedule.map((item) => ({
          ...item,
          marketPrice: `${Symbols.INDIAN_RUPEE} ${item.marketPrice}`,
          cumulativeAmount: `${Symbols.INDIAN_RUPEE} ${item.cumulativeAmount}`,
          payout: `${Symbols.INDIAN_RUPEE} ${item.payout}`,
        }))
      );
    }
  }, [vbcSchedule]);

  /**
   * FUnction to load lenders
   */
  useEffect(() => {
    if (!lenders) {
      dispatch(readLenders(0, 1000));
    } else {
      setLendersList(
        lenders.map((lender) => ({
          id: lender.lenderId,
          label: lender.lenderName,
          value: lender.lenderId,
        }))
      );
    }
  }, [dispatch, lenders]);
  /**
   * Function to load list of doctors
   */
  useEffect(() => {
    if (!doctors) {
      dispatch(readDoctors(0, 1000));
    } else {
      setDoctorsList(
        doctors.map((doctor) => ({
          id: doctor.id,
          label: `${doctor.firstName} ${doctor.middleName} ${doctor.lastName}`,
          value: doctor.mangoAccountId,
        }))
      );
    }
  }, [dispatch, doctors]);

  /**
   * Function to load general information of user
   */
  useEffect(() => {
    if (generalInformation) {
      setAware(generalInformation.aware);
      setIsDisabled(generalInformation.aware);
      setComments(generalInformation?.interactionText);
      setInitiationDate(
        generalInformation.treatmentStartDate
          ? generalInformation.treatmentStartDate
          : ''
      );
      setdataConsent(generalInformation?.dataConsentDate ? true : false);
      setdataConsentDate(generalInformation?.dataConsentDate);
    }
    if (interactionText) setComments(interactionText);
    else setComments('');
  }, [generalInformation, interactionText]);

  /**
   * Function to load lender history
   */
  useEffect(() => {
    if (lenderHistory &amp;&amp; lenderHistory.length > 0) {
      const data = lenderHistory.map((item) => {
        const {lenderLoanApplicationId, status} = item;
        const patientId = id;
        return {
          ...item,
          applicationSubmitDate: format(
            new Date(item?.applicationSubmitDate),
            DateFormat.DD_MM_YYYY_DASH
          ),
          actionButton:
            status === 'In progress' ? (
              &lt;>
                &lt;button
                  onClick={() =>
                    dispatch(
                      approveLoanForPatient({
                        lenderLoanApplicationId,
                        patientId,
                      })
                    )
                  }
                  className="btn-patient-theme bg-admin">
                  {t('approve')}
                &lt;/button>{' '}
                &lt;button
                  onClick={() =>
                    dispatch(
                      rejectLoanForPatient({lenderLoanApplicationId, patientId})
                    )
                  }
                  className="btn-patient-theme bg-admin">
                  {t('reject')}
                &lt;/button>
              &lt;/>
            ) : (
              'N/A'
            ),
        };
      });
      setlenderHistoryTableData(data);
    } else setlenderHistoryTableData([]);
  }, [lenderHistory]);

  /**
   * Function to load treatment break history state
   */
  useEffect(() => {
    if (treatmentBreakHistory &amp;&amp; treatmentBreakHistory.length > 0) {
      const data = treatmentBreakHistory.map((item) => {
        let restartDate;
        if (item.eventType === 'Paused') restartDate = 'N/A';
        else
          restartDate = format(
            new Date(item?.restartDate),
            DateFormat.DD_MM_YYYY_SLASH
          );
        return {
          ...item,
          dateCreated: format(
            new Date(item?.dateCreated),
            DateFormat.DD_MM_YYYY_SLASH
          ),
          restartDate: restartDate,
        };
      });
      settreatmentBreakTableData(data);
    } else if (treatmentBreakHistory &amp;&amp; treatmentBreakHistory.length === 0)
      settreatmentBreakTableData([]);
  }, [treatmentBreakHistory]);

  // console.log('TREATMENT BREAK=>', treatmentBreakTableData);

  /**
   *Function to download the drug reciept
   * @param {Object} item
   */
  const downloadDrugReceipt = (item) => {
    // console.log("DRUG item=>", item);
    // console.log("ITEM=>", item);
    // const fileData = documentList.find((e) => e.id === cycleNo);
    const fileData = item?.drugReceiptName
      ? item.drugReceiptName
      : 'drugReceipt';
    const onSuccess = (response) => {
      // console.log('RESPONSE=>',response)
      downloadFile(response, fileData);
      return {
        type: SET_SHOW_DOCUMENT,
        payload: response,
      };
    };
    dispatch(downloadDocument(item.drugReceiptId, onSuccess));
  };

  /**
   * Function to make the cycle paid status by Finance team
   * @param {Object} item
   */
  const onMarkAsPaidClick = (item) => {
    setMarkAsPaidCycle(item);
    setopenMarkAsPaid(true);
  };

  const onConfirmMarkAsPaid = () => {
    // console.log('ON CONFIRM CLICK=>', markAsPaidCycle);
    if (markAsPaidCycle) {
      const reqData = {
        patientId,
        cycleNo: markAsPaidCycle?.cycleNo,
      };
      const customOnSuccess = () => {
        dispatch(getMangoPatientDetails(patientId));
      };
      dispatch(markGrantPaid(reqData, customOnSuccess));
    }
  };

  const onConfirmRebatePaid = () => {
    if (patientId) {
      const customOnSuccess = () => {
        dispatch(getMangoPatientDetails(patientId));
      };
      dispatch(markRebatePaid(patientId, customOnSuccess));
    }
  };

  /**
   * Set Terminate Reason state to null everytime component loads
   */
  useEffect(() => {
    setTerminateReasons(clinicalDropReasons);
  }, []);

  /**
   * Function trigerred when
   */
  const handleChangePatientAware = () => {
    if (!isDisabled) {
      setShowConfirmModal(true);
    }
  };
  /**
   * Function triggred when Aware state is confirmed
   */
  const handleClickAwareYes = () => {
    const data = {
      aware: true,
      patientId: id,
    };
    const onSuccess = () => {
      dispatch(getMangoPatientDetails(patientId));
      handleConfirmModalClose();
    };
    dispatch(updatePatientStatusToAware(data, onSuccess));
  };
  /**
   * Function to open lender confirm modal
   * @param {String} lenderName
   */
  const assignLenderConfirmModal = (lenderName) => {
    if (lender &amp;&amp; lenderName) {
      setShowLenderModal(true);
      setAssignLenderName(lenderName);
    } else if (!applicationSubmitted)
      dispatch(
        setToast(
          ALERT_MESSAGE.PATIENT_NOT_SUBMITTED_APPLICATION,
          true,
          'warning'
        )
      );
    else dispatch(setToast(ALERT_MESSAGE.SELECT_LENDER, true, 'warning'));
  };
  /**
   * Function called when lender is assigm=nme
   * @param {Number} lenderId
   */
  const handleClickAssignLender = (lenderId) => {
    const data = {
      lenderId: parseInt(lenderId),
      patientId: id,
    };
    const onSuccess = () => {
      dispatch(getMangoPatientDetails(patientId));
    };
    if (applicationSubmitted) dispatch(assignLenderToPatient(data, onSuccess));
    else
      dispatch(
        setToast(
          ALERT_MESSAGE.PATIENT_NOT_SUBMITTED_APPLICATION,
          true,
          'warning'
        )
      );
  };
  /**
   * Function called when doctor is assigned
   * @param {Number} doctorId
   *
   */

  const handleClickAssignDoctor = (doctorId) => {
    if (!reasonToChange) return;
    if (!doctor) return;
    const data = {
      remarks: reasonToChange,
      doctorId: parseInt(doctorId),
      patientId: id,
    };
    const onSuccess = () => {
      dispatch(getMangoPatientDetails(patientId));
    };
    dispatch(assignDoctorToPatient(data, onSuccess));
  };

  /** Function to restart the treatment */
  const handleClickAppointmentDate = (e) => {
    e.preventDefault();
    if (dateWarning) return;
    const data = {
      treatmentRestartDate: appointmentDate,
      patientId: id,
    };
    const onSuccess = () => {
      handleModalClose();
      dispatch(getMangoPatientDetails(id));
      setAppointmentDate('');
    };
    if (checkTreatmentStatus('RESTART'))
      dispatch(editTreatmentForPatient('RESTART', data, onSuccess));
  };
  /**
   * Function called when terminate treatment modal box is subimitted
   * @param {*} e
   */
  const handleSubmitTreatment = (e) => {
    e.preventDefault();
    const action = isPauseTreatment ? 'PAUSE' : 'TERMINATE';
    const data = isPauseTreatment
      ? {
          patientId: patientId,
          remarks: reason,
        }
      : {
          patientId,
          reasonId: reason,
          reasonType: isClinicalTermination ? 'CLINICAL' : 'NON_CLINICAL',
        };
    const onSuccess = () => {
      handleTreatmentModalClose();
      dispatch(getMangoPatientDetails(id));
      setReason('');
    };
    if (checkTreatmentStatus(action))
      dispatch(editTreatmentForPatient(action, data, onSuccess));
  };
  /**
   * Function called when the initiation date is submitted, api call is performed
   * @param {*} e
   */
  const handleSubmitInitiationDate = () => {
    const data = {
      treatmentStartDate: initiationDate,
      patientId: patientId,
    };
    const onSuccess = () => {
      dispatch(getMangoPatientDetails(patientId));
    };
    if (applicationSubmitted)
      dispatch(assignTreatmentInitiationDateToPatient(data, onSuccess));
    else
      dispatch(
        setToast(
          ALERT_MESSAGE.PATIENT_NOT_SUBMITTED_APPLICATION,
          true,
          'warning'
        )
      );
  };
  /**
   * This function will be triggred when content date is saved
   * @param {*} e
   */
  const handledataConsentDate = () => {
    const data = {
      dataConsentDate: dataConsentDate,
      patientId: patientId,
    };
    // console.log('REQ DATA=>', data);
    const onSuccess = () => {
      dispatch(getMangoPatientDetails(patientId));
    };
    if (dataConsentDate) {
      dispatch(updateDataConsentDate(data, onSuccess));
    }
  };
  /**
   * Function to open the Modal on click of save button on treatment Inititation
   * @param {*} e
   */
  const onSaveInitiationDate = (e) => {
    e.preventDefault();
    setshowInitiationDateModal(true);
  };
  /**
   * Function to open the Modal on click of save button on Data Consent Date
   * @param {*} e
   */
  const onSaveDataConsent = (e) => {
    e.preventDefault();
    setshowDataConsentModal(true);
  };

  /**
   * It closes the modal which opened to restart treatment
   */
  const handleModalClose = () => {
    setShowModal(false);
  };
  /**
   * It closes the modla which opened to mark the aware status
   */
  const handleConfirmModalClose = () => {
    setShowConfirmModal(false);
  };
  /**
   * Close the modal which opened to pause/terminate the treatement
   */
  const handleTreatmentModalClose = () => {
    setShowTreatmentModal(false);
  };
  /**
   * Close the modal which opened to mark the cycle as Paid
   */
  const handleMarkAsPaidModal = () => {
    setopenMarkAsPaid(false);
  };
  /**
   * Close the modal which opened to save data consent date confirmation
   */
  const closeDataConsentModal = () => {
    setshowDataConsentModal(false);
  };
  /**
   * Close the modal which opened to save the intiation date confirmation
   */
  const closeInitiationDateModal = () => {
    setshowInitiationDateModal(false);
  };
  /**
   * Close the modal which opened to assign lender
   */
  const handleAssignLenderClose = () => {
    setShowLenderModal(false);
    setAssignLenderName('');
    setLender('');
  };
  const handleRebatePaidModalClosr = () => {
    setShowRebatePaidModal(false);
  };
  /**
   * Validates the date
   * @param {String} value
   * @returns {Boolean}
   */
  const onAppointmentDateChange = (value) => {
    setAppointmentDate(value);

    setDateWarning(
      dateValidator(
        value,
        VALIDATE_DATE_TYPE.RESTRICT_PAST_DATE_EXCLUDING_CURRENT
      )
    );
  };

  // console.log('IS ASSURED=>', isAssured);

  /**
   * This function take the different type and  returns true/false based on the condition of the treatment status
   * @param {String} type
   * @returns {Boolean}
   */
  const checkTreatmentStatus = (type) => {
    if (type === 'PAUSE' &amp;&amp; treatmentPaused) {
      errorMessage = ALERT_MESSAGE.TREATEMENT_ALREADY_PAUSED;
      dispatch(setToast(errorMessage, true, 'warning'));
      return false;
    } else if (type === 'PAUSE' &amp;&amp; !treatmentStarted) {
      errorMessage = ALERT_MESSAGE.TREATMENT_NOT_STARTED;
      dispatch(setToast(errorMessage, true, 'warning'));
      return false;
    } else if (type === 'PAUSE' &amp;&amp; treatmentFinished) {
      errorMessage = ALERT_MESSAGE.TREATMENT_COMPLETED;
      dispatch(setToast(errorMessage, true, 'warning'));
      return false;
    } else if (type === 'PAUSE' &amp;&amp; treatmentTerminated) {
      errorMessage = ALERT_MESSAGE.TREATMENT_TERMINATED;
      dispatch(setToast(errorMessage, true, 'warning'));
      return false;
    } else if (type === 'RESTART' &amp;&amp; !treatmentPaused) {
      errorMessage = ALERT_MESSAGE.TREATMENT_NOT_PAUSED;
      dispatch(setToast(errorMessage, true, 'warning'));
      return false;
    } else if (type === 'TERMINATE' &amp;&amp; !treatmentStarted) {
      errorMessage = ALERT_MESSAGE.TREATMENT_NOT_STARTED;
      dispatch(setToast(errorMessage, true, 'warning'));
      return false;
    } else if (type === 'TERMINATE' &amp;&amp; treatmentTerminated) {
      errorMessage = ALERT_MESSAGE.TREATMENT_TERMINATED;
      dispatch(setToast(errorMessage, true, 'warning'));
      return false;
    } else if (
      (type === 'PAUSE' || type === 'RESTART') &amp;&amp;
      (treatmentTerminated || treatmentFinished)
    ) {
      errorMessage = ALERT_MESSAGE.TREATMENT_COMPLETED_TERMINATED;
      dispatch(setToast(errorMessage, true, 'warning'));
      return false;
    } else return true;
  };

  /**
   *  Component to display the Lable details
   * @param {String} label
   * @param {String} value
   * @param {Boolean} info
   * @param {String} toolTipText
   * @returns {Element}
   */
  const LabelValue = ({label, value, info, toolTipText}) => {
    return (
      &lt;div className="d-flex flex-column">
        &lt;p className="p-0 m-0 text-pure-black">
          {label}{' '}
          {info &amp;&amp; (
            &lt;CustomOverHoverToolTip
              toolTipText={toolTipText ? toolTipText : label}
              placement="bottom">
              &lt;FontAwesomeIcon icon={faInfoCircle} size="xs" />
            &lt;/CustomOverHoverToolTip>
          )}
        &lt;/p>

        &lt;p className="p-0 m-0 fw-medium text-pure-black">
          {value ? value : 'N/A'}
        &lt;/p>
      &lt;/div>
    );
  };

  /**
   * Function triggred when the comment is saved, api is called to save the comment
   */
  const onCommentSubmit = () => {
    if (comments) {
      dispatch(
        updatePatientInteractionNotes({interactionText: comments, patientId})
      );
    }
  };

  // console.log('PATIENT ID=>', patientId);
  /**
   * On Data consent date change
   * @param {*} e
   */
  const onDataConsentDateChange = (e) => {
    const value = e.target.value;
    setdataConsentDate(value);
    if (dateValidator(value, VALIDATE_DATE_TYPE.RESTRICT_FUTURE_DATE)) {
      dispatch(
        setToast(ALERT_MESSAGE.DATE_CANNOT_BE_IN_FUTURE, true, 'warning')
      );
      setDateWarning(true);
    } else setDateWarning(false);
  };
  return (
    &lt;React.Fragment>
      &lt;CustomModal
        Show={showRebatePaidModal}
        title={''}
        handleClose={handleRebatePaidModalClosr}
        // cssClass={'privacy-modal'}
        closeButton={true}
        deleteModalText={t('confirmRebatePaid')}
        onConfirmDelete={onConfirmRebatePaid}>
        &lt;div>&lt;/div>
      &lt;/CustomModal>
      &lt;CustomModal
        Show={openMarkAsPaid}
        title={''}
        handleClose={handleMarkAsPaidModal}
        // cssClass={'privacy-modal'}
        closeButton={true}
        deleteModalText={
          openMarkAsPaid &amp;&amp;
          markAsPaidCycle &amp;&amp;
          dynamicMessageCreation(t('markAsPaidConfirmMessage'), [
            markAsPaidCycle?.cycleNo,
          ])
        }
        onConfirmDelete={onConfirmMarkAsPaid}>
        &lt;div>&lt;/div>
      &lt;/CustomModal>
      &lt;CustomModal
        Show={showLenderModal}
        title={''}
        handleClose={handleAssignLenderClose}
        // cssClass={'privacy-modal'}
        closeButton={true}
        deleteModalText={
          assignLenderName &amp;&amp;
          assignLenderName &amp;&amp;
          dynamicMessageCreation(t('assignLenderConfirm'), [assignLenderName])
        }
        onConfirmDelete={() => handleClickAssignLender(lender)}>
        &lt;div>&lt;/div>
      &lt;/CustomModal>
      &lt;CustomModal
        Show={showDataConsentModal}
        title={''}
        handleClose={closeDataConsentModal}
        // cssClass={'privacy-modal'}
        closeButton={true}
        deleteModalText={
          dataConsentDate &amp;&amp;
          dynamicMessageCreation(t('pleaseConfirmDataConfirmDate'), [
            format(new Date(dataConsentDate), DateFormat.DD_MM_YYYY_DASH),
          ])
        }
        onConfirmDelete={handledataConsentDate}>
        &lt;div>&lt;/div>
      &lt;/CustomModal>
      &lt;CustomModal
        Show={showInitiationDateModal}
        title={''}
        handleClose={closeInitiationDateModal}
        // cssClass={'privacy-modal'}
        closeButton={true}
        deleteModalText={
          initiationDate &amp;&amp;
          dynamicMessageCreation(t('pleaseConfirmInitiationDate'), [
            format(new Date(initiationDate), DateFormat.DD_MM_YYYY_DASH),
          ])
        }
        onConfirmDelete={handleSubmitInitiationDate}>
        &lt;div>&lt;/div>
      &lt;/CustomModal>
      &lt;CustomModal
        cssClass="treatment-modal confirm-modal"
        Show={showModal}
        handleClose={handleModalClose}>
        &lt;h6 className="text-muted text-center p-0 m-0 mt-4 mb-4">
          Select date of restart
        &lt;/h6>
        &lt;Form onSubmit={handleClickAppointmentDate} className="p-4 pt-2 px-6">
          &lt;span className="close" onClick={handleModalClose} />
          &lt;Form.Group>
            &lt;Form.Control
              required
              isInvalid={dateWarning}
              value={appointmentDate}
              onChange={(e) => onAppointmentDateChange(e.target.value)}
              type="date"
            />

            {dateWarning &amp;&amp; (
              &lt;Form.Control.Feedback type="invalid">
                {t('appointmentDateWarning')}
              &lt;/Form.Control.Feedback>
            )}
          &lt;/Form.Group>
          &lt;Can
            performingAction={{
              component: 'treatment-list',
              action: 'can view pauseRestartWarningNote',
            }}
            removeDiv={true}>
            &lt;div className="mt-2">Note:-{t('previousCycleRecieptPaid')}&lt;/div>
          &lt;/Can>
          {/* &lt;FormGroup className="mt-4 mb-4 termination-form">
            &lt;Form.Check
              type="radio"
              name="assure"
              selected={!isAssured}
              onChange={() => {
                setisAssured(true);
              }}
              label={t('previousCycleRecieptPaid')}
            />
          &lt;/FormGroup> */}
          &lt;div className="d-flex flex-row justify-content-between mt-4">
            &lt;button
              onClick={handleModalClose}
              className="btn-patient-theme bg-dark w-100">
              {t('cancel')}
            &lt;/button>
            &lt;button className="btn-patient-theme bg-admin w-100 ms-2">
              {t('save')}
            &lt;/button>
          &lt;/div>
        &lt;/Form>
      &lt;/CustomModal>
      &lt;CustomModal
        cssClass="treatment-modal confirm-modal"
        Show={showTreatmentModal}
        handleClose={handleTreatmentModalClose}>
        &lt;div className="">
          &lt;h6 className="text-muted text-center p-0 m-0 mt-4 mb-4">
            {isPauseTreatment
              ? t('selectPauseDateAndReason')
              : t('selectReasonForTerminateTheTreatment')}
          &lt;/h6>
          &lt;Form
            onSubmit={handleSubmitTreatment}
            className="p-lg-4 pt-lg-0 px-lg-6">
            &lt;span className="close" onClick={handleTreatmentModalClose} />
            {isPauseTreatment ? (
              &lt;>
                &lt;Form.Group>
                  &lt;Form.Control
                    required
                    value={reason}
                    onChange={(e) => setReason(e.target.value)}
                    className="input-primary mt-3"
                    placeholder="Enter Reason"
                  />
                &lt;/Form.Group>
                &lt;Can
                  performingAction={{
                    component: 'treatment-list',
                    action: 'can view pauseRestartWarningNote',
                  }}
                  removeDiv={true}>
                  &lt;div className="mt-2">
                    Note:-{t('previousCycleRecieptPaid')}
                  &lt;/div>
                &lt;/Can>
                {/* &lt;FormGroup className="mt-4 mb-4 termination-form">
                  &lt;Form.Check
                    type="radio"
                    name="assure"
                    selected={!isAssured}
                    onChange={() => {
                      setisAssured(true);
                    }}
                    label={t('previousCycleRecieptPaid')}
                  />
                &lt;/FormGroup> */}
              &lt;/>
            ) : (
              &lt;>
                &lt;FormGroup className="mt-4 mb-4 termination-form">
                  &lt;Form.Check
                    type="radio"
                    name="clinical-dropdown"
                    selected={isClinicalTermination}
                    onChange={() => {
                      setTerminateReasons(clinicalDropReasons);
                      setIsClinicalTermination(true);
                      setReason('1');
                    }}
                    label="Clinical Dropout"
                  />
                &lt;/FormGroup>
                &lt;FormGroup className="mt-4 mb-4 termination-form">
                  &lt;Form.Check
                    type="radio"
                    name="clinical-dropdown"
                    selected={!isClinicalTermination}
                    onChange={() => {
                      setTerminateReasons(nonClinicalDropReasons);
                      setIsClinicalTermination(false);
                      setReason('5');
                    }}
                    label="Non-Clinical Dropout"
                  />
                &lt;/FormGroup>
                &lt;FormGroup className="mt-4 mb-4">
                  &lt;Form.Select
                    required
                    value={reason}
                    type="select"
                    onChange={(e) => setReason(e.target.value)}
                    className="correct-form"
                    placeholder="Enter Reason">
                    {terminateReasons.map((reason) => (
                      &lt;option value={reason.id} key={reason.id}>
                        {reason.name}
                      &lt;/option>
                    ))}
                  &lt;/Form.Select>
                &lt;/FormGroup>
              &lt;/>
            )}

            &lt;div className="d-flex flex-row justify-content-between mt-4">
              &lt;button
                onClick={handleTreatmentModalClose}
                type="button"
                className="btn-patient-theme bg-dark w-100">
                {t('cancel')}
              &lt;/button>
              &lt;button
                className="btn-patient-theme bg-admin w-100 ms-2"
                type="submit">
                {t('save')}
              &lt;/button>
            &lt;/div>
          &lt;/Form>
        &lt;/div>
      &lt;/CustomModal>
      &lt;CustomModal
        cssClass="confirm-modal"
        Show={showConfirmModal}
        handleClose={handleConfirmModalClose}>
        &lt;div className="p-4 px-5">
          &lt;span className="close" onClick={handleConfirmModalClose} />
          &lt;div className="d-flex justify-content-center">
            &lt;h6>{t('areYouSure-aware')}&lt;/h6>
          &lt;/div>
          &lt;div className="d-flex flex-row justify-content-between mt-4">
            &lt;button
              onClick={handleConfirmModalClose}
              className="btn-patient-theme bg-dark w-100">
              {t('cancel')}
            &lt;/button>
            &lt;button
              onClick={handleClickAwareYes}
              className="btn-patient-theme bg-admin w-100 ms-2">
              {t('confirm')}
            &lt;/button>
          &lt;/div>
        &lt;/div>
      &lt;/CustomModal>
      &lt;div className="patient-details-container">
        &lt;Can
          performingAction={{
            component: 'patient-general-information',
            action: 'can view details',
          }}
          removeDiv={true}>
          &lt;div className="item p-4 pb-2 mt-4">
            &lt;div className="d-flex align-items-center flex-row title">
              &lt;span className="m-0">{t('generalInformation')}&lt;/span>
            &lt;/div>
            &lt;div>
              &lt;Row className="row-cols-sm-2 row-cols-md-3 row-cols-lg-4 mt-3">
                {generalInformation &amp;&amp; (
                  &lt;>
                    &lt;Can
                      performingAction={{
                        component: 'patient-general-information',
                        action: 'can view patientId',
                      }}
                      removeDiv={true}>
                      &lt;Col xxl={3} xl={4} lg={4} md={6} className="mb-2">
                        &lt;LabelValue
                          label={t('patientId')}
                          value={generalInformation?.uniqueId}
                        />
                      &lt;/Col>
                    &lt;/Can>
                    &lt;Col xxl={3} xl={4} lg={4} md={6} className="mb-2">
                      &lt;LabelValue
                        label={t('patientName')}
                        value={
                          generalInformation?.fullName?.includes(' ') &amp;&amp;
                          generalInformation?.fullName?.split(' ')[0] +
                            ' ' +
                            generalInformation?.fullName
                              ?.split(' ')
                              ?.reverse()[0]
                        }
                      />
                    &lt;/Col>
                    &lt;Col xxl={3} xl={4} lg={4} md={6} className="mb-2">
                      &lt;LabelValue
                        label={t('hospitalGroup')}
                        value={generalInformation.hospitalGroupName}
                      />
                    &lt;/Col>
                    &lt;Col xxl={3} xl={4} lg={4} md={6} className="mb-2">
                      &lt;LabelValue
                        label={t('hospitalUnit')}
                        value={generalInformation.hospitalUnitName}
                      />
                    &lt;/Col>

                    &lt;Col xxl={3} xl={4} lg={4} md={6} className="mb-2">
                      &lt;LabelValue
                        label={t('condition')}
                        value={generalInformation.diagnosis}
                      />
                    &lt;/Col>

                    &lt;Col xxl={3} xl={4} lg={4} md={6} className="mb-2">
                      &lt;LabelValue
                        label={t('drug')}
                        value={generalInformation.drugName}
                      />
                    &lt;/Col>
                    &lt;Col xxl={3} xl={4} lg={4} md={6} className="mb-2">
                      &lt;LabelValue
                        label={t('doctorName')}
                        value={generalInformation.doctorName}
                      />
                    &lt;/Col>
                    &lt;Can
                      performingAction={{
                        component: 'treatment-initiation',
                        action: 'can view details',
                      }}
                      removeDiv={true}>
                      &lt;Col xxl={3} xl={4} lg={4} md={6} className="mb-2">
                        &lt;Form
                          onSubmit={onSaveInitiationDate}
                          className="d-flex flex-row">
                          &lt;Form.Group>
                            &lt;Form.Label className="p-0 m-0 text-pure-black">
                              Treatment Initiation :
                            &lt;/Form.Label>
                            &lt;div className="d-flex flex-row input-small">
                              &lt;Form.Control
                                required
                                type="date"
                                className="h-100 p-2"
                                disabled={cannotChangeTreatmentDate}
                                value={initiationDate}
                                onChange={(e) =>
                                  setInitiationDate(e.target.value)
                                }
                              />
                              &lt;Can
                                performingAction={{
                                  component: 'treatment-initiation',
                                  action: 'can change treatmentInitiation',
                                }}
                                removeDiv={true}>
                                {!cannotChangeTreatmentDate &amp;&amp; (
                                  &lt;button
                                    className="btn-patient-theme h-100 bg-admin w-auto ms-2 px-4"
                                    disabled={cannotChangeTreatmentDate}>
                                    {t('save')}
                                  &lt;/button>
                                )}
                              &lt;/Can>
                            &lt;/div>
                          &lt;/Form.Group>
                        &lt;/Form>
                      &lt;/Col>
                    &lt;/Can>

                    &lt;Can
                      performingAction={{
                        component: 'patient-general-information',
                        action: 'can view awareButton',
                      }}
                      removeDiv={true}>
                      &lt;Col xxl={3} xl={4} lg={4} md={6} className="mb-2">
                        &lt;p className="p-0 m-0 text-pure-black">Aware&lt;/p>
                        &lt;div
                          className={`toggle-container ${
                            aware ? 'bg-admin' : ''
                          }`}
                          onClick={handleChangePatientAware}>
                          &lt;p className="float-end p-0 m-0 text-white left">
                            {' '}
                            {!aware &amp;&amp; 'No'}
                          &lt;/p>
                          &lt;div
                            className={`dialog-button ${
                              aware ? '' : 'disabled'
                            }`}>&lt;/div>
                          &lt;p className="float-start text-white p-0 m-0 right">
                            {' '}
                            {aware &amp;&amp; 'Yes'}
                          &lt;/p>
                        &lt;/div>
                      &lt;/Col>
                    &lt;/Can>

                    &lt;Can
                      performingAction={{
                        component: 'patient-general-information',
                        action: 'can view patient mrn',
                      }}
                      removeDiv={true}>
                      &lt;Col xxl={3} xl={4} lg={4} md={6} className="mb-2">
                        &lt;LabelValue
                          label={t('mrn')}
                          value={generalInformation?.mrn}
                        />
                      &lt;/Col>
                    &lt;/Can>
                    &lt;Can
                      performingAction={{
                        component: 'patient-general-information',
                        action: 'can view patient mobile&amp;email',
                      }}
                      removeDiv={true}>
                      &lt;Col xxl={3} xl={4} lg={4} md={6} className="mb-2">
                        &lt;LabelValue
                          label={t('mobile')}
                          value={generalInformation?.mobileNumber}
                        />
                      &lt;/Col>
                      &lt;Col xxl={3} xl={4} lg={4} md={6} className="mb-2">
                        &lt;LabelValue
                          label={t('email')}
                          value={generalInformation?.email}
                        />
                      &lt;/Col>
                    &lt;/Can>
                    &lt;Can
                      performingAction={{
                        component: 'patient-general-information',
                        action: 'can view awareButton',
                      }}
                      removeDiv={true}>
                      &lt;Col xxl={3} xl={4} lg={4} md={6} className="mb-2">
                        &lt;p className="p-0 m-0 text-pure-black">Data Consent&lt;/p>
                        &lt;div
                          className={`toggle-container ${
                            dataConsent ? 'bg-admin' : ''
                          }`}
                          onClick={() => setdataConsent(true)}>
                          &lt;p className="float-end p-0 m-0 text-white left">
                            {' '}
                            {!dataConsent &amp;&amp; 'No'}
                          &lt;/p>
                          &lt;div
                            className={`dialog-button ${
                              dataConsent ? '' : 'disabled'
                            }`}>&lt;/div>
                          &lt;p className="float-start text-white p-0 m-0 right">
                            {' '}
                            {dataConsent &amp;&amp; 'Yes'}
                          &lt;/p>
                        &lt;/div>
                      &lt;/Col>
                      {dataConsent &amp;&amp; (
                        &lt;Col xxl={3} xl={4} lg={4} md={6} className="mb-2">
                          &lt;Form
                            onSubmit={onSaveDataConsent}
                            className="d-flex flex-row">
                            &lt;Form.Group>
                              &lt;Form.Label className="p-0 m-0 text-pure-black">
                                Data consent date :
                              &lt;/Form.Label>
                              &lt;div className="d-flex flex-row input-small">
                                &lt;Form.Control
                                  required
                                  type="date"
                                  className="h-100 p-2"
                                  value={dataConsentDate}
                                  disabled={generalInformation?.dataConsentDate}
                                  onChange={onDataConsentDateChange}
                                />

                                &lt;Can
                                  performingAction={{
                                    component: 'treatment-initiation',
                                    action: 'can change treatmentInitiation',
                                  }}
                                  removeDiv={true}>
                                  {!generalInformation?.dataConsentDate &amp;&amp; (
                                    &lt;button
                                      className="btn-patient-theme h-100 bg-admin w-auto ms-2 px-4"
                                      disabled={dateWarning}>
                                      {t('save')}
                                    &lt;/button>
                                  )}
                                &lt;/Can>
                              &lt;/div>
                            &lt;/Form.Group>
                          &lt;/Form>
                        &lt;/Col>
                      )}
                    &lt;/Can>
                  &lt;/>
                )}
              &lt;/Row>
            &lt;/div>
          &lt;/div>
        &lt;/Can>
        &lt;Can
          performingAction={{
            component: 'patient-pbp-program',
            action: 'can view details',
          }}
          removeDiv={true}>
          &lt;div className="item p-4 pb-2 mt-4">
            &lt;div className="d-flex align-items-center flex-row title  ">
              &lt;span className="m-0">{t('vbcProgramme')}&lt;/span>
            &lt;/div>
            {vbcProgram &amp;&amp; (
              &lt;>
                &lt;Row className="row-cols-sm-2 row-cols-md-3 row-cols-lg-4 mt-3">
                  &lt;Col xxl={3} xl={4} lg={4} md={6} className="mb-2">
                    &lt;LabelValue
                      label={t('identified')}
                      toolTipText={t('identifiedMeaning')}
                      value={
                        vbcProgram.identifiedDate &amp;&amp;
                        format(
                          new Date(vbcProgram.identifiedDate),
                          DateFormat.DD_MM_YYYY_DASH
                        )
                      }
                      info={true}
                    />
                  &lt;/Col>
                  &lt;Col xxl={3} xl={4} lg={4} md={6} className="mb-2">
                    &lt;LabelValue
                      label={t('aware')}
                      toolTipText={t('awareMeaning')}
                      value={
                        vbcProgram.awareDate &amp;&amp;
                        format(
                          new Date(vbcProgram.awareDate),
                          DateFormat.DD_MM_YYYY_DASH
                        )
                      }
                      info={true}
                    />
                  &lt;/Col>
                  &lt;Col xxl={3} xl={4} lg={4} md={6} className="mb-2">
                    &lt;LabelValue
                      label={t('engaged')}
                      toolTipText={t('engagedMeaning')}
                      value={
                        vbcProgram.engagedDate &amp;&amp;
                        format(
                          new Date(vbcProgram.engagedDate),
                          DateFormat.DD_MM_YYYY_DASH
                        )
                      }
                      info={true}
                    />
                  &lt;/Col>
                  &lt;Col xxl={3} xl={4} lg={4} md={6} className="mb-2">
                    &lt;LabelValue
                      label={t('enrolled')}
                      toolTipText={t('enrolledMeaning')}
                      value={
                        vbcProgram.enrolledDate &amp;&amp;
                        format(
                          new Date(vbcProgram.enrolledDate),
                          DateFormat.DD_MM_YYYY_DASH
                        )
                      }
                      info={true}
                    />
                  &lt;/Col>
                  &lt;Col xxl={3} xl={4} lg={4} md={6} className="mb-2">
                    &lt;LabelValue
                      label={t('completed')}
                      toolTipText={t('completedMeaning')}
                      value={
                        vbcProgram.completedDate &amp;&amp;
                        format(
                          new Date(vbcProgram.completedDate),
                          DateFormat.DD_MM_YYYY_DASH
                        )
                      }
                      info={true}
                    />
                  &lt;/Col>
                  &lt;Can
                    performingAction={{
                      component: 'patient-pbp-program',
                      action: 'can view rebate initiation date',
                    }}
                    removeDiv={true}>
                    {vbcProgram.clinicalDropDate &amp;&amp; (
                      &lt;Col xxl={3} xl={4} lg={4} md={6} className="mb-2">
                        &lt;LabelValue
                          label={t('rebateInitiationDate')}
                          toolTipText={t('rebateInitiationDateMeaning')}
                          value={
                            vbcProgram.rebateInitiationDate &amp;&amp;
                            format(
                              new Date(vbcProgram.rebateInitiationDate),
                              DateFormat.DD_MM_YYYY_DASH
                            )
                          }
                          info={true}
                        />
                      &lt;/Col>
                    )}
                  &lt;/Can>
                  &lt;Col xxl={3} xl={4} lg={4} md={6} className="mb-2">
                    &lt;LabelValue
                      label={t('droppedOutClinicalrRasons')}
                      toolTipText={t('clinicalDropOutMeaning')}
                      value={
                        vbcProgram.clinicalDropDate &amp;&amp;
                        format(
                          new Date(vbcProgram.clinicalDropDate),
                          DateFormat.DD_MM_YYYY_DASH
                        )
                      }
                      info={true}
                    />
                  &lt;/Col>
                  &lt;Col xxl={3} xl={4} lg={4} md={6} className="mb-2">
                    &lt;LabelValue
                      label={t('droppedOutNonClinicalReasons')}
                      toolTipText={t('nonClinicalDropOut')}
                      value={
                        vbcProgram.nonClinicalDropDate &amp;&amp;
                        format(
                          new Date(vbcProgram.nonClinicalDropDate),
                          DateFormat.DD_MM_YYYY_DASH
                        )
                      }
                      info={true}
                    />
                  &lt;/Col>
                &lt;/Row>
                &lt;hr />
                &lt;Row className="row-cols-sm-2 row-cols-md-3 row-cols-lg-4 py-1 px-3">
                  {' '}
                  &lt;Col lg="auto" md={12} className="mb-2 p-0">
                    &lt;LabelValue
                      label={t('modeSelected')}
                      toolTipText={t('modeOfPaymentMeaning')}
                      value={
                        PAYMENT_FRAMEWORK_VALUE[vbcProgram.paymentTypeOpted]
                      }
                      info={true}
                    />
                  &lt;/Col>
                &lt;/Row>
                &lt;hr className="mb-4" />
              &lt;/>
            )}

            {vbcProgram?.applicants.length > 0 &amp;&amp; role === 'mango_executive' &amp;&amp; (
              &lt;Can
                performingAction={{
                  component: 'patient-applicant-list',
                  action: 'can view details',
                }}
                removeDiv={true}>
                &lt;React.Fragment>
                  &lt;div className="d-flex align-items-center flex-row title">
                    &lt;span className="m-0">{t('applicants')}&lt;/span>
                  &lt;/div>
                  &lt;div className="mt-3">
                    &lt;TableComponent
                      component={'applicant-listing'}
                      tableHeadersData={tableHeadersPatientDetailsApplicants}
                      tableData={vbcProgram.applicants}
                      classes={'applicant-overview align-items-center'}
                      noCheck
                      headerClasses="border-0"
                    />
                  &lt;/div>
                &lt;/React.Fragment>
              &lt;/Can>
            )}
          &lt;/div>
        &lt;/Can>

        &lt;Can
          performingAction={{
            component: 'payout-details',
            action: 'can view details',
          }}
          removeDiv={true}>
          &lt;div className="item mt-4 p-4">
            &lt;div className="d-flex align-items-center flex-row title mb-2 ">
              &lt;h4>{t('payoutDetails')}&lt;/h4>
            &lt;/div>
            &lt;div>
              &lt;Row className="row-cols-sm-2 row-cols-md-3 row-cols-lg-4 mt-3">
                &lt;Col xxl={3} xl={4} lg={4} md={6} className="mb-2">
                  &lt;LabelValue
                    label={t('grantPayout')}
                    value={
                      paySubventionTo
                        ? capitalizeFirstLetter(paySubventionTo)
                        : 'N/A'
                    }
                  />
                &lt;/Col>
                &lt;Col xxl={3} xl={4} lg={4} md={6} className="mb-2">
                  &lt;LabelValue
                    label={t('rebatePayout')}
                    value={
                      payRebateTo ? capitalizeFirstLetter(payRebateTo) : 'N/A'
                    }
                  />
                &lt;/Col>
              &lt;/Row>
              {paySubventionTo &amp;&amp; paySubventionTo === 'LENDER' &amp;&amp; (
                &lt;>
                  &lt;Row className="row-cols-sm-2 row-cols-md-3 row-cols-lg-4 mt-3">
                    &lt;Col xxl={3} xl={4} lg={4} md={6} className="mb-2">
                      &lt;LabelValue
                        label={t('Payment Frequency')}
                        value={
                          paymentFrequency
                            ? paymentFrequencyData.find(
                                (item) => item.value === paymentFrequency
                              ).label
                            : 'N/A'
                        }
                      />
                    &lt;/Col>

                    {paymentFrequency === MONTHLY &amp;&amp; (
                      &lt;>
                        {/* &lt;Col xxl={3} xl={4} lg={4} md={6} className="mb-2">
                          &lt;LabelValue
                            label={t('Day/Last Weekday For Grant')}
                            value={'N/A'}
                          />
                        &lt;/Col> */}
                        {grantPaymentDay &amp;&amp; (
                          &lt;Col xxl={3} xl={4} lg={4} md={6} className="mb-2">
                            &lt;LabelValue
                              label={t('Grant Day')}
                              value={
                                grantPaymentDay
                                  ? grantPaymentWeek === 5 &amp;&amp;
                                    capitalizeFirstLetter(
                                      `LAST ${grantPaymentDay}`
                                    )
                                  : 'N/A'
                              }
                            />
                          &lt;/Col>
                        )}
                        {grantPaymentDate &amp;&amp; (
                          &lt;Col xxl={3} xl={4} lg={4} md={6} className="mb-2">
                            &lt;LabelValue
                              label={t('Grant Date')}
                              value={grantPaymentDate}
                            />
                          &lt;/Col>
                        )}
                      &lt;/>
                    )}
                  &lt;/Row>
                &lt;/>
              )}
            &lt;/div>
          &lt;/div>
        &lt;/Can>
        {vbcSchedule.length > 0 &amp;&amp; (
          &lt;Can
            performingAction={{
              component: 'admin-pbp-schedule-list',
              action: 'can view details',
            }}
            removeDiv={true}>
            &lt;div className="item mt-4 p-4">
              &lt;div className="d-flex align-items-center flex-row title mb-2 ">
                &lt;h4>{t('vbcSchedule')}&lt;/h4>
              &lt;/div>
              &lt;TableComponent
                component={'vbc-schedule-listing'}
                tableHeadersData={tableHeadersPatientDetailVbcSchedule}
                tableData={scheduleTableData}
                classes={'vbc-schedule-table align-items-center'}
                noCheck
                headerClasses=""
              />
            &lt;/div>
          &lt;/Can>
        )}
        {vbcProgram?.paymentTypeOpted !== null &amp;&amp;
          vbcProgram?.paymentTypeOpted !== PAYMENT_FRAMEWORK.SELF_PAY &amp;&amp; (
            &lt;Can
              performingAction={{
                component: 'lender-assignment',
                action: 'can view details',
              }}
              removeDiv={true}>
              &lt;div className="item p-4  mt-4">
                {!applicationApproved &amp;&amp; (
                  &lt;>
                    {' '}
                    &lt;div className="d-flex align-items-center flex-row title">
                      &lt;span className="m-0">{t('lenderInformation')}&lt;/span>
                    &lt;/div>
                    &lt;Can
                      performingAction={{
                        component: 'lender-assignment',
                        action: 'can assign lender',
                      }}
                      removeDiv={true}>
                      &lt;div className="d-flex flex-row align-items-center select-lender mt-4 flex-wrap-wrap">
                        &lt;label className="text-primary text-muted">
                          Lender :
                        &lt;/label>
                        &lt;select
                          value={lender}
                          onChange={(e) => {
                            const value = e.target.value;
                            const name = e.target.selectedOptions[0].label;
                            setLender(value);
                            setAssignLenderName(name);
                          }}
                          className="input-primary ms-0 ms-lg-3 mt-3 mt-lg-0">
                          &lt;option value="" hidden>
                            Select Lender
                          &lt;/option>
                          {lendersList.length > 0 &amp;&amp;
                            lendersList.map(({id, label, value}) => (
                              &lt;option key={id} value={value} name={label}>
                                {label}
                              &lt;/option>
                            ))}
                        &lt;/select>
                        &lt;button
                          onClick={() =>
                            assignLenderConfirmModal(assignLenderName)
                          }
                          className="btn-patient-theme bg-admin ms-lg-3 px-4 mt-3 mt-lg-0">
                          {t('assign')}
                        &lt;/button>
                      &lt;/div>
                    &lt;/Can>
                  &lt;/>
                )}
                {lenderHistoryTableData &amp;&amp;
                  lenderHistoryTableData.length > 0 &amp;&amp;
                  !applicationApproved &amp;&amp; &lt;hr />}
                {lenderHistoryTableData &amp;&amp; lenderHistoryTableData.length > 0 &amp;&amp; (
                  &lt;>
                    &lt;div className="d-flex align-items-center flex-row title  ">
                      &lt;h4>{t('lenderHistory')}&lt;/h4>
                    &lt;/div>
                    &lt;div className="mt-3">
                      &lt;TableComponent
                        component={'lender-history-listing'}
                        tableHeadersData={tableHeadersLenderHistory}
                        tableData={lenderHistoryTableData}
                        classes={'applicant-overview align-items-center'}
                        noCheck
                        headerClasses="border-0"
                      />
                    &lt;/div>
                  &lt;/>
                )}
              &lt;/div>
            &lt;/Can>
          )}
        &lt;Can
          performingAction={{
            component: 'treatment-list',
            action: 'can view details',
          }}
          removeDiv={true}>
          &lt;div className="item p-4 mt-4">
            &lt;div className="d-flex align-items-center flex-row title">
              &lt;span className="m-0">{t('treatment')}&lt;/span>
            &lt;/div>
            {treatment &amp;&amp; (
              &lt;Row className="row-cols-sm-2 row-cols-md-3 row-cols-lg-4 py-4">
                &lt;Col className="mb-2">
                  &lt;LabelValue
                    label={t('cyclesCompleted')}
                    value={treatment.completedCycles}
                  />
                &lt;/Col>
                &lt;Col className="mb-2">
                  &lt;LabelValue
                    label={t('nextAppointment')}
                    value={treatment.nextAppointment}
                  />
                &lt;/Col>
              &lt;/Row>
            )}
            &lt;hr />
            &lt;div className="d-flex align-items-center flex-row title  ">
              &lt;h4>{t('treatmentBreaks')}&lt;/h4>
            &lt;/div>
            &lt;div className="mt-3">
              &lt;TableComponent
                component={'lender-history-listing'}
                tableHeadersData={tableHeadersTreatmentBreaks}
                tableData={treatmentBreakTableData}
                classes={'applicant-overview align-items-center'}
                noCheck
                headerClasses="border-0"
              />
            &lt;/div>
            &lt;div className="d-flex flex-row">
              {!treatmentPaused ? (
                &lt;Can
                  performingAction={{
                    component: 'treatment-list',
                    action: 'can pause treatment',
                  }}
                  removeDiv={true}>
                  &lt;button
                    onClick={() => {
                      setShowTreatmentModal(true);
                      setReason('');
                      setIsPauseTreatment(true);
                    }}
                    className="btn-patient-theme-grid bg-admin px-4">
                    Pause
                  &lt;/button>
                &lt;/Can>
              ) : (
                &lt;Can
                  performingAction={{
                    component: 'treatment-list',
                    action: 'can resume treatment',
                  }}
                  removeDiv={true}>
                  &lt;button
                    onClick={() => setShowModal(true)}
                    className="btn-patient-theme-grid bg-admin px-4 ms-2">
                    Restart
                  &lt;/button>
                &lt;/Can>
              )}
              &lt;Can
                performingAction={{
                  component: 'treatment-list',
                  action: 'can terminate treatment',
                }}
                removeDiv={true}>
                &lt;button
                  onClick={() => {
                    setShowTreatmentModal(true);
                    setIsPauseTreatment(false);
                  }}
                  className="btn-patient-theme-grid bg-admin px-4 ms-2">
                  Terminate
                &lt;/button>
              &lt;/Can>
            &lt;/div>
            &lt;Can
              performingAction={{
                component: 'payout-details',
                action: 'can view markRebatePaid',
              }}
              removeDiv={true}>
              {treatmentTerminated &amp;&amp; vbcProgram.clinicalDropDate &amp;&amp; (
                &lt;>
                  &lt;div className="d-flex align-items-center flex-row title mb-2">
                    &lt;h4>{t('rebate-payout')}&lt;/h4>
                  &lt;/div>
                  &lt;Row className="row-cols-sm-2 row-cols-md-3 row-cols-lg-4 py-2">
                    &lt;Col xxl={3} xl={4} lg={4} md={6} className="mb-2">
                      &lt;LabelValue
                        label={t('rebateAmount')}
                        value={
                          vbcProgram?.rebateAmount
                            ? Symbols.INDIAN_RUPEE + vbcProgram?.rebateAmount
                            : 'N/A'
                        }
                      />
                    &lt;/Col>
                    &lt;Col xxl={3} xl={4} lg={4} md={6} className="mb-2">
                      &lt;LabelValue
                        label={t('rebateInitiationDate')}
                        value={
                          vbcProgram.rebateInitiationDate &amp;&amp;
                          format(
                            new Date(vbcProgram.rebateInitiationDate),
                            DateFormat.DD_MM_YYYY_DASH
                          )
                        }
                      />
                    &lt;/Col>
                    &lt;Col xxl={3} xl={4} lg={4} md={6} className="mb-2">
                      &lt;LabelValue
                        label={t('rebatePaidDate')}
                        value={
                          vbcProgram.rebateDate &amp;&amp;
                          format(
                            new Date(vbcProgram.rebateDate),
                            DateFormat.DD_MM_YYYY_DASH
                          )
                        }
                      />
                    &lt;/Col>
                  &lt;/Row>

                  {!vbcProgram?.rebateDate &amp;&amp; vbcProgram?.rebateInitiationDate &amp;&amp; (
                    &lt;div>
                      &lt;button
                        onClick={() => setShowRebatePaidModal(true)}
                        className="btn-patient-theme-grid bg-admin px-4">
                        {t('rebatePaidButton')}
                      &lt;/button>
                    &lt;/div>
                  )}
                &lt;/>
              )}
            &lt;/Can>

            {treatment?.drugSchedule.length > 0 &amp;&amp; (
              &lt;>
                &lt;Can
                  performingAction={{
                    component: 'admin-medication-schedule-list',
                    action: 'can view details',
                  }}
                  removeDiv={true}>
                  {treatment?.cumulativeAmount &amp;&amp; (
                    &lt;div className="d-flex align-items-center flex-row title mt-3 cost-incured">
                      &lt;div>
                        &lt;h5 className="mb-0">{t('totalCostIncured')}:&lt;/h5>
                      &lt;/div>
                      &lt;h4 className="mb-0 text-patient">
                        {Symbols.INDIAN_RUPEE} {treatment?.cumulativeAmount}
                      &lt;/h4>
                    &lt;/div>
                  )}
                  &lt;React.Fragment>
                    &lt;hr />
                    &lt;div className="d-flex align-items-center flex-row title  ">
                      &lt;h4>{t('drugSchedule')}&lt;/h4>
                    &lt;/div>
                    &lt;div className="mt-3">
                      &lt;TableComponent
                        component={'drug-schedule-listing'}
                        tableHeadersData={
                          vbcProgram?.paymentTypeOpted ===
                          PAYMENT_FRAMEWORK.SELF_PAY
                            ? tableHeadersPatientDetailsDrugScheduleSelfPay
                            : paySubventionTo &amp;&amp; paySubventionTo === 'LENDER'
                            ? tblHeaderPatientDetailsDrugScheduleLenderPayout
                            : tableHeadersPatientDetailsDrugSchedule
                        }
                        tableData={drugScheduleData}
                        classes={'applicant-overview align-items-center'}
                        noCheck
                        headerClasses="border-0"
                      />
                      {vbcProgram?.paymentTypeOpted !==
                        PAYMENT_FRAMEWORK.SELF_PAY &amp;&amp;
                        paySubventionTo === 'PATIENT' &amp;&amp; (
                          &lt;div>
                            &lt;FontAwesomeIcon icon={faInfoCircle} size="xs" />
                            &lt;span className="ms-2 text-center">
                              {' '}
                              Only First Grant details are being captured{' '}
                            &lt;/span>
                          &lt;/div>
                        )}
                    &lt;/div>
                  &lt;/React.Fragment>
                &lt;/Can>
              &lt;/>
            )}
          &lt;/div>
        &lt;/Can>
        {/* Commented by Anand Gautam -Check  23rd sept Asana Comment*/}
        {/* &lt;div className="item p-4 pb-2 mt-4">
             {patientReportedOutcomes &amp;&amp; (
               &lt;React.Fragment>
                 &lt;div className="d-flex align-items-center flex-row title  ">
                   &lt;span>{t("prom")}&lt;/span>
                 &lt;/div>
                 &lt;div className="mt-3">
                   &lt;TableComponent
                     component={"prom-listing"}
                     tableHeadersData={tableHeadersProm}
                     tableData={patientReportedOutcomes}
                     classes={"applicant-overview align-items-center"}
                     noCheck
                     headerClasses="border-0"
                   />
                 &lt;/div>
               &lt;/React.Fragment>
             )}
           &lt;/div> */}
        &lt;Can
          performingAction={{
            component: 'assign-doctor',
            action: 'can assign doctor',
          }}
          removeDiv={true}>
          &lt;div className="item p-4  mt-4">
            &lt;div className="d-flex align-items-center flex-row title">
              &lt;span className="m-0">{t('otherActions')}&lt;/span>
            &lt;/div>
            &lt;div className="d-flex align-items-center flex-row title mt-4">
              &lt;h4>{t('assignNewDoctor')}&lt;/h4>
            &lt;/div>
            &lt;Row className="d-flex flex-row align-items-center mt-4 assign-new-doc">
              &lt;div className="m-0 p-0 w-auto mb-3 mb-lg-0">
                {' '}
                &lt;div className="d-flex flex-column">
                  &lt;label className="text-primary text-muted ms-3 mb-3">
                    &lt;span className="text-patient">*&lt;/span>{' '}
                    {t('reasonForChange')} :
                  &lt;/label>
                  &lt;select
                    value={reasonToChange}
                    onChange={(e) => setReasonTochange(e.target.value)}
                    className="input-primary ps-2 ms-3 w-100">
                    {' '}
                    &lt;option value="" hidden>
                      Select Reason
                    &lt;/option>
                    {doctorChangeReasons.map(({id, name}) => (
                      &lt;option
                        key={id}
                        value={name}
                        disabled={treatmentTerminated}>
                        {name}
                      &lt;/option>
                    ))}
                  &lt;/select>
                &lt;/div>
              &lt;/div>
              &lt;div className="m-0 p-0 select-lender w-auto">
                {' '}
                &lt;div className="d-flex flex-column ms-lg-2">
                  &lt;label className="text-primary text-muted ms-3 mb-3">
                    &lt;span className="text-patient">*&lt;/span> {t('newDoctor')} :
                  &lt;/label>
                  &lt;div className="d-flex flex-row">
                    &lt;select
                      value={doctor}
                      onChange={(e) => setDoctor(e.target.value)}
                      className="input-primary ps-2 ms-3">
                      &lt;option value="" hidden>
                        Select Doctor
                      &lt;/option>
                      {doctorsList.length > 0 &amp;&amp;
                        doctorsList.map(({id, label, value}) => (
                          &lt;option
                            key={id}
                            value={value}
                            disabled={treatmentTerminated}>
                            {label}
                          &lt;/option>
                        ))}
                    &lt;/select>
                    {!treatmentTerminated &amp;&amp; (
                      &lt;button
                        onClick={() => handleClickAssignDoctor(doctor)}
                        className="btn-patient-theme bg-admin ms-3 px-4">
                        {t('assign')}
                      &lt;/button>
                    )}
                  &lt;/div>
                &lt;/div>
              &lt;/div>
            &lt;/Row>
          &lt;/div>
        &lt;/Can>
        &lt;Can
          performingAction={{
            component: 'patient-timeline',
            action: 'can view details',
          }}
          removeDiv={true}>
          &lt;div className="item p-4 pb-2 mt-4">
            &lt;div className="d-flex align-items-center flex-row title mb-4">
              &lt;span className="m-0">{t('timeline')}&lt;/span>
            &lt;/div>
            &lt;PatientTimeline patientId={patientId} />
          &lt;/div>
        &lt;/Can>
        {deviceTokenActive &amp;&amp; (
          &lt;Can
            performingAction={{
              component: 'send-push-notification',
              action: 'can view details',
            }}
            removeDiv={true}>
            &lt;SendPushNotification mangoAccountId={mangoAccountId} />
          &lt;/Can>
        )}

        &lt;Can
          performingAction={{
            component: 'patient-interaction-notes',
            action: 'can view details',
          }}
          removeDiv={true}>
          &lt;div className="item p-4 mt-4">
            &lt;div className="d-flex align-items-center flex-row title mb-3">
              &lt;span className="m-0">{t('comments')}&lt;/span>
            &lt;/div>
            &lt;MultiLineInput
              label=""
              value={comments}
              setValue={(value) => setComments(value)}
              rows={10}
            />
            &lt;Can
              performingAction={{
                component: 'patient-interaction-notes',
                action: 'can view editDetails',
              }}
              removeDiv={true}>
              &lt;button
                onClick={onCommentSubmit}
                className="btn-patient-theme bg-admin px-4 mt-2">
                {t('submit')}
              &lt;/button>
            &lt;/Can>
          &lt;/div>
        &lt;/Can>
      &lt;/div>
    &lt;/React.Fragment>
  );
};

export default PatientDetails;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#aadharValidator">aadharValidator</a></li><li><a href="global.html#accessDenied">accessDenied</a></li><li><a href="global.html#acknowledgeFirstGrant">acknowledgeFirstGrant</a></li><li><a href="global.html#actionTypes">actionTypes</a></li><li><a href="global.html#addationSelect">addationSelect</a></li><li><a href="global.html#addDrugReceiptAmount">addDrugReceiptAmount</a></li><li><a href="global.html#addHoliday">addHoliday</a></li><li><a href="global.html#adminEndPoint">adminEndPoint</a></li><li><a href="global.html#allManufacturers">allManufacturers</a></li><li><a href="global.html#apiEnd">apiEnd</a></li><li><a href="global.html#apiError">apiError</a></li><li><a href="global.html#apiErrorReport">apiErrorReport</a></li><li><a href="global.html#apiStart">apiStart</a></li><li><a href="global.html#approveLoanForPatient">approveLoanForPatient</a></li><li><a href="global.html#areEqual">areEqual</a></li><li><a href="global.html#assignDoctorToPatient">assignDoctorToPatient</a></li><li><a href="global.html#assignLenderToPatient">assignLenderToPatient</a></li><li><a href="global.html#assignTreatmentInitiationDateToPatient">assignTreatmentInitiationDateToPatient</a></li><li><a href="global.html#cancelApplication">cancelApplication</a></li><li><a href="global.html#capitalizeFirstLetter">capitalizeFirstLetter</a></li><li><a href="global.html#checkIfRouteIsProtected">checkIfRouteIsProtected</a></li><li><a href="global.html#checkMasterValue">checkMasterValue</a></li><li><a href="global.html#checkMinMaxValue">checkMinMaxValue</a></li><li><a href="global.html#checkStrongPassword">checkStrongPassword</a></li><li><a href="global.html#clearPatientTimelineUrl">clearPatientTimelineUrl</a></li><li><a href="global.html#completeProfile">completeProfile</a></li><li><a href="global.html#contactSupport">contactSupport</a></li><li><a href="global.html#convertTimeToLocal">convertTimeToLocal</a></li><li><a href="global.html#convertToCorrectDataType">convertToCorrectDataType</a></li><li><a href="global.html#createApplicant">createApplicant</a></li><li><a href="global.html#createBulkDoctor">createBulkDoctor</a></li><li><a href="global.html#createDoctor">createDoctor</a></li><li><a href="global.html#createDrug">createDrug</a></li><li><a href="global.html#createHospital">createHospital</a></li><li><a href="global.html#createLender">createLender</a></li><li><a href="global.html#createManufacturer">createManufacturer</a></li><li><a href="global.html#createPermission">createPermission</a></li><li><a href="global.html#createProgram">createProgram</a></li><li><a href="global.html#createResource">createResource</a></li><li><a href="global.html#createRole">createRole</a></li><li><a href="global.html#createRoute">createRoute</a></li><li><a href="global.html#createUser">createUser</a></li><li><a href="global.html#CustomReactSelect">CustomReactSelect</a></li><li><a href="global.html#dateValidator">dateValidator</a></li><li><a href="global.html#decodeToken">decodeToken</a></li><li><a href="global.html#deleteApplicant">deleteApplicant</a></li><li><a href="global.html#deleteBank">deleteBank</a></li><li><a href="global.html#deleteCancerType">deleteCancerType</a></li><li><a href="global.html#deleteCity">deleteCity</a></li><li><a href="global.html#deleteClinicalDropout">deleteClinicalDropout</a></li><li><a href="global.html#deleteCompanyType">deleteCompanyType</a></li><li><a href="global.html#deleteCountry">deleteCountry</a></li><li><a href="global.html#deleteDoctor">deleteDoctor</a></li><li><a href="global.html#deleteDoctorChangeReason">deleteDoctorChangeReason</a></li><li><a href="global.html#deleteDocument">deleteDocument</a></li><li><a href="global.html#deleteDrug">deleteDrug</a></li><li><a href="global.html#deleteEducationLevel">deleteEducationLevel</a></li><li><a href="global.html#deleteEmployer">deleteEmployer</a></li><li><a href="global.html#deleteExperience">deleteExperience</a></li><li><a href="global.html#deleteGrossAnnualIncomes">deleteGrossAnnualIncomes</a></li><li><a href="global.html#deleteHospital">deleteHospital</a></li><li><a href="global.html#deleteIncomeRange">deleteIncomeRange</a></li><li><a href="global.html#deleteIndustry">deleteIndustry</a></li><li><a href="global.html#deleteInsuranceCompany">deleteInsuranceCompany</a></li><li><a href="global.html#deleteLanguage">deleteLanguage</a></li><li><a href="global.html#deleteLender">deleteLender</a></li><li><a href="global.html#deleteManufacturer">deleteManufacturer</a></li><li><a href="global.html#deleteNatureOfBusiness">deleteNatureOfBusiness</a></li><li><a href="global.html#deleteNonClinicalDropout">deleteNonClinicalDropout</a></li><li><a href="global.html#deleteOccupation">deleteOccupation</a></li><li><a href="global.html#deletePatientStatus">deletePatientStatus</a></li><li><a href="global.html#deletePermission">deletePermission</a></li><li><a href="global.html#deleteProfession">deleteProfession</a></li><li><a href="global.html#deleteProgram">deleteProgram</a></li><li><a href="global.html#deleteRelationship">deleteRelationship</a></li><li><a href="global.html#deleteResidenceType">deleteResidenceType</a></li><li><a href="global.html#deleteResource">deleteResource</a></li><li><a href="global.html#deleteRole">deleteRole</a></li><li><a href="global.html#deleteRoute">deleteRoute</a></li><li><a href="global.html#deleteState">deleteState</a></li><li><a href="global.html#deleteYearsInBusiness">deleteYearsInBusiness</a></li><li><a href="global.html#dobValidator">dobValidator</a></li><li><a href="global.html#doctorsList">doctorsList</a></li><li><a href="global.html#documentData">documentData</a></li><li><a href="global.html#downloadDocument">downloadDocument</a></li><li><a href="global.html#drugsList">drugsList</a></li><li><a href="global.html#dynamicMessageCreation">dynamicMessageCreation</a></li><li><a href="global.html#editTreatmentForPatient">editTreatmentForPatient</a></li><li><a href="global.html#educationLevelOptions">educationLevelOptions</a></li><li><a href="global.html#emailValidator">emailValidator</a></li><li><a href="global.html#enrollForVbc">enrollForVbc</a></li><li><a href="global.html#fileSizeValidator">fileSizeValidator</a></li><li><a href="global.html#fileTypeValidator">fileTypeValidator</a></li><li><a href="global.html#flushLocalStorage">flushLocalStorage</a></li><li><a href="global.html#forgotPassword">forgotPassword</a></li><li><a href="global.html#formatEndpoint">formatEndpoint</a></li><li><a href="global.html#GenericRoutes">GenericRoutes</a></li><li><a href="global.html#getApplicantOverview">getApplicantOverview</a></li><li><a href="global.html#getCitiesFromStateId">getCitiesFromStateId</a></li><li><a href="global.html#getClinicalNotesDetails">getClinicalNotesDetails</a></li><li><a href="global.html#getCookie">getCookie</a></li><li><a href="global.html#getDiscontinuationAndAdverseEvents">getDiscontinuationAndAdverseEvents</a></li><li><a href="global.html#getDoctorPatientsList">getDoctorPatientsList</a></li><li><a href="global.html#getDoctorsByHospitalId">getDoctorsByHospitalId</a></li><li><a href="global.html#getDrugLenderReqData">getDrugLenderReqData</a></li><li><a href="global.html#getEnrollForVbc">getEnrollForVbc</a></li><li><a href="global.html#getFinancialInformation">getFinancialInformation</a></li><li><a href="global.html#getHolidaysForYear">getHolidaysForYear</a></li><li><a href="global.html#getIndividualPatientData">getIndividualPatientData</a></li><li><a href="global.html#getLabsReportsDetails">getLabsReportsDetails</a></li><li><a href="global.html#getLoanAmount">getLoanAmount</a></li><li><a href="global.html#getLoanApplicationDetails">getLoanApplicationDetails</a></li><li><a href="global.html#getMangoPatientDetails">getMangoPatientDetails</a></li><li><a href="global.html#getMangoPatientList">getMangoPatientList</a></li><li><a href="global.html#getMasterData">getMasterData</a></li><li><a href="global.html#getMedicationDetails">getMedicationDetails</a></li><li><a href="global.html#getMedicationScheduleByDrugId">getMedicationScheduleByDrugId</a></li><li><a href="global.html#getNewPatientStats">getNewPatientStats</a></li><li><a href="global.html#getNotifications">getNotifications</a></li><li><a href="global.html#getOtherTests">getOtherTests</a></li><li><a href="global.html#getOtherTreatment">getOtherTreatment</a></li><li><a href="global.html#getPatientLongitudinality">getPatientLongitudinality</a></li><li><a href="global.html#getPatientRecruitmentAndConversion">getPatientRecruitmentAndConversion</a></li><li><a href="global.html#getPatientReportedOutcomes">getPatientReportedOutcomes</a></li><li><a href="global.html#getPatientTimeLineUrl">getPatientTimeLineUrl</a></li><li><a href="global.html#getPendingPatientList">getPendingPatientList</a></li><li><a href="global.html#getPerPatientRevenue">getPerPatientRevenue</a></li><li><a href="global.html#getQueryString">getQueryString</a></li><li><a href="global.html#getRadiationTherapy">getRadiationTherapy</a></li><li><a href="global.html#getRadiologyReportsDetails">getRadiologyReportsDetails</a></li><li><a href="global.html#getSalesAndFreePacks">getSalesAndFreePacks</a></li><li><a href="global.html#getSummaryNotesDetails">getSummaryNotesDetails</a></li><li><a href="global.html#getSundaysForYear">getSundaysForYear</a></li><li><a href="global.html#getSurgicalDetails">getSurgicalDetails</a></li><li><a href="global.html#getSurvivalAndResponse">getSurvivalAndResponse</a></li><li><a href="global.html#getUserDetails">getUserDetails</a></li><li><a href="global.html#getUserPermissions">getUserPermissions</a></li><li><a href="global.html#getUsersWithDeviceToken">getUsersWithDeviceToken</a></li><li><a href="global.html#getVbcDrugSchedule">getVbcDrugSchedule</a></li><li><a href="global.html#getVbcSchedule">getVbcSchedule</a></li><li><a href="global.html#hospitalsGroupList">hospitalsGroupList</a></li><li><a href="global.html#hospitalsList">hospitalsList</a></li><li><a href="global.html#i18nLanguages">i18nLanguages</a></li><li><a href="global.html#insertDashInAadharNumber">insertDashInAadharNumber</a></li><li><a href="global.html#isApplicantDocumentsUploaded">isApplicantDocumentsUploaded</a></li><li><a href="global.html#isArrayLengthEqual">isArrayLengthEqual</a></li><li><a href="global.html#jumpProgramStep">jumpProgramStep</a></li><li><a href="global.html#LenderDrugMapping">LenderDrugMapping</a></li><li><a href="global.html#mangoExecutiveAddPatient">mangoExecutiveAddPatient</a></li><li><a href="global.html#markGrantPaid">markGrantPaid</a></li><li><a href="global.html#markRebatePaid">markRebatePaid</a></li><li><a href="global.html#mobileValidator">mobileValidator</a></li><li><a href="global.html#modulesList">modulesList</a></li><li><a href="global.html#MONTH">MONTH</a></li><li><a href="global.html#myProfile">myProfile</a></li><li><a href="global.html#onSideBarRouteClicked">onSideBarRouteClicked</a></li><li><a href="global.html#panValidator">panValidator</a></li><li><a href="global.html#PAYMENT_FRAMEWORK">PAYMENT_FRAMEWORK</a></li><li><a href="global.html#permissionsList">permissionsList</a></li><li><a href="global.html#readApplicantsList">readApplicantsList</a></li><li><a href="global.html#readBanks">readBanks</a></li><li><a href="global.html#readCancerTypeList">readCancerTypeList</a></li><li><a href="global.html#readClinicalDropoutReasons">readClinicalDropoutReasons</a></li><li><a href="global.html#readCompanyTypes">readCompanyTypes</a></li><li><a href="global.html#readCountries">readCountries</a></li><li><a href="global.html#readDoctorChangeReasons">readDoctorChangeReasons</a></li><li><a href="global.html#readDoctors">readDoctors</a></li><li><a href="global.html#readDocuments">readDocuments</a></li><li><a href="global.html#readDrugs">readDrugs</a></li><li><a href="global.html#readEducationLevelList">readEducationLevelList</a></li><li><a href="global.html#readEmployerList">readEmployerList</a></li><li><a href="global.html#readExperienceList">readExperienceList</a></li><li><a href="global.html#readGrossAnnualIncomes">readGrossAnnualIncomes</a></li><li><a href="global.html#readHospitals">readHospitals</a></li><li><a href="global.html#readIncomeRangeList">readIncomeRangeList</a></li><li><a href="global.html#readIndustryTypes">readIndustryTypes</a></li><li><a href="global.html#readInsuranceCompanies">readInsuranceCompanies</a></li><li><a href="global.html#readLanguageList">readLanguageList</a></li><li><a href="global.html#readLenders">readLenders</a></li><li><a href="global.html#readManufacturers">readManufacturers</a></li><li><a href="global.html#readNatureOfBusiness">readNatureOfBusiness</a></li><li><a href="global.html#readNonClinicalDropoutReasons">readNonClinicalDropoutReasons</a></li><li><a href="global.html#readNotification">readNotification</a></li><li><a href="global.html#readOccupationList">readOccupationList</a></li><li><a href="global.html#readPatientStatuses">readPatientStatuses</a></li><li><a href="global.html#readPermissionList">readPermissionList</a></li><li><a href="global.html#readProfessionList">readProfessionList</a></li><li><a href="global.html#readProgram">readProgram</a></li><li><a href="global.html#readRelationshipList">readRelationshipList</a></li><li><a href="global.html#readResidenceTypeList">readResidenceTypeList</a></li><li><a href="global.html#readResourceList">readResourceList</a></li><li><a href="global.html#readResourcePermissionList">readResourcePermissionList</a></li><li><a href="global.html#readRoleList">readRoleList</a></li><li><a href="global.html#readRouteList">readRouteList</a></li><li><a href="global.html#readStates">readStates</a></li><li><a href="global.html#readUsers">readUsers</a></li><li><a href="global.html#readYearsInBusiness">readYearsInBusiness</a></li><li><a href="global.html#reapplyApplication">reapplyApplication</a></li><li><a href="global.html#registerPatient">registerPatient</a></li><li><a href="global.html#rejectLoanForPatient">rejectLoanForPatient</a></li><li><a href="global.html#removeDashInAadharNumber">removeDashInAadharNumber</a></li><li><a href="global.html#requiredDocuments">requiredDocuments</a></li><li><a href="global.html#resetPassword">resetPassword</a></li><li><a href="global.html#resetPatientDetails">resetPatientDetails</a></li><li><a href="global.html#returnMasterDataSelectValues">returnMasterDataSelectValues</a></li><li><a href="global.html#rolesList">rolesList</a></li><li><a href="global.html#Routes">Routes</a></li><li><a href="global.html#routesList">routesList</a></li><li><a href="global.html#saveNotificationInStore">saveNotificationInStore</a></li><li><a href="global.html#secureLocalStorage">secureLocalStorage</a></li><li><a href="global.html#sendPushNotification">sendPushNotification</a></li><li><a href="global.html#sendVerificationOtp">sendVerificationOtp</a></li><li><a href="global.html#sentryTransformedAction">sentryTransformedAction</a></li><li><a href="global.html#sentryTransformedState">sentryTransformedState</a></li><li><a href="global.html#setClientPaginationData">setClientPaginationData</a></li><li><a href="global.html#setCookie">setCookie</a></li><li><a href="global.html#setForceLogout">setForceLogout</a></li><li><a href="global.html#setKeycloakData">setKeycloakData</a></li><li><a href="global.html#setLoader">setLoader</a></li><li><a href="global.html#setPatientId">setPatientId</a></li><li><a href="global.html#setToast">setToast</a></li><li><a href="global.html#setUserData">setUserData</a></li><li><a href="global.html#shorternUrl">shorternUrl</a></li><li><a href="global.html#showDoctor">showDoctor</a></li><li><a href="global.html#showDrug">showDrug</a></li><li><a href="global.html#showHospital">showHospital</a></li><li><a href="global.html#showLender">showLender</a></li><li><a href="global.html#showManufacturer">showManufacturer</a></li><li><a href="global.html#showPermission">showPermission</a></li><li><a href="global.html#showProgram">showProgram</a></li><li><a href="global.html#showResource">showResource</a></li><li><a href="global.html#showRole">showRole</a></li><li><a href="global.html#showRoute">showRoute</a></li><li><a href="global.html#showUser">showUser</a></li><li><a href="global.html#SidebarDrugIcon">SidebarDrugIcon</a></li><li><a href="global.html#startLoanApplicationSteps">startLoanApplicationSteps</a></li><li><a href="global.html#submitLoanApplication">submitLoanApplication</a></li><li><a href="global.html#submitToMangoExecutive">submitToMangoExecutive</a></li><li><a href="global.html#THEME_MODULE">THEME_MODULE</a></li><li><a href="global.html#toggelDrugVisibility">toggelDrugVisibility</a></li><li><a href="global.html#TOKEN">TOKEN</a></li><li><a href="global.html#trimmer">trimmer</a></li><li><a href="global.html#uniqueKeys">uniqueKeys</a></li><li><a href="global.html#updateApplicant">updateApplicant</a></li><li><a href="global.html#updateAppointmentDateToPatient">updateAppointmentDateToPatient</a></li><li><a href="global.html#updateChangePasswordStatus">updateChangePasswordStatus</a></li><li><a href="global.html#updateDataConsentDate">updateDataConsentDate</a></li><li><a href="global.html#updateDoctor">updateDoctor</a></li><li><a href="global.html#updateDrug">updateDrug</a></li><li><a href="global.html#updateFinancialInformation">updateFinancialInformation</a></li><li><a href="global.html#updateHospital">updateHospital</a></li><li><a href="global.html#updateLender">updateLender</a></li><li><a href="global.html#updateManufacturer">updateManufacturer</a></li><li><a href="global.html#updateMedicationScheduleByCycleNo">updateMedicationScheduleByCycleNo</a></li><li><a href="global.html#updateMultipleResourcePermission">updateMultipleResourcePermission</a></li><li><a href="global.html#updateMyProfile">updateMyProfile</a></li><li><a href="global.html#updateObject">updateObject</a></li><li><a href="global.html#updatePatientInteractionNotes">updatePatientInteractionNotes</a></li><li><a href="global.html#updatePatientStatusToAware">updatePatientStatusToAware</a></li><li><a href="global.html#updatePermssion">updatePermssion</a></li><li><a href="global.html#updateProgram">updateProgram</a></li><li><a href="global.html#updateResource">updateResource</a></li><li><a href="global.html#updateResourcePermissions">updateResourcePermissions</a></li><li><a href="global.html#updateRole">updateRole</a></li><li><a href="global.html#updateRoleAccess">updateRoleAccess</a></li><li><a href="global.html#updateRoute">updateRoute</a></li><li><a href="global.html#updateSubRoutes">updateSubRoutes</a></li><li><a href="global.html#updateUser">updateUser</a></li><li><a href="global.html#uploadDocument">uploadDocument</a></li><li><a href="global.html#uploadDocumentForPatient">uploadDocumentForPatient</a></li><li><a href="global.html#usePrevious">usePrevious</a></li><li><a href="global.html#validateCommaSeperatedIP">validateCommaSeperatedIP</a></li><li><a href="global.html#validateURL">validateURL</a></li><li><a href="global.html#validateVerhoeffAlgo">validateVerhoeffAlgo</a></li><li><a href="global.html#validDateString">validDateString</a></li><li><a href="global.html#vbcProgramSteps">vbcProgramSteps</a></li><li><a href="global.html#verifyPatient">verifyPatient</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.11</a> on Fri Nov 04 2022 12:59:13 GMT+0530 (India Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
